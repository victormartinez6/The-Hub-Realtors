(function(d,s,f,r){"use strict";function c(t){const e=t.data();return e&&Object.defineProperty(e,"id",{value:t.id.toString(),writable:!1}),e}function m(t){var e;return(((e=t.path)==null?void 0:e.match(/\//g))||[]).length%2!==0}function h(t,e=void 0,D={}){const{errorHandler:p=i=>console.error(i),autoDispose:o=!0}=D,a=r.isRef(t)?t:r.computed(()=>t);let n=()=>{};const u=r.ref(e);return r.watch(a,i=>{n(),a.value?m(a.value)?n=f.onSnapshot(i,l=>{u.value=c(l)||null},p):n=f.onSnapshot(i,l=>{u.value=l.docs.map(c).filter(s.isDef)},p):u.value=e},{immediate:!0}),o===!0?s.tryOnScopeDispose(()=>{n()}):typeof o=="number"&&s.tryOnScopeDispose(()=>{s.useTimeoutFn(()=>{n()},o)}),u}d.useFirestore=h})(this.VueUse=this.VueUse||{},VueUse,firebase,Vue);
