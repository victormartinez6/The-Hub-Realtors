(function(l,u,i,p,h){"use strict";function m(t){const e=u.ref(t.currentUser),a=u.computed(()=>!!e.value);return t.onIdTokenChanged(r=>e.value=r),{isAuthenticated:a,user:e}}function D(t){const e=t.data();return e&&Object.defineProperty(e,"id",{value:t.id.toString(),writable:!1}),e}function S(t){var e;return(((e=t.path)==null?void 0:e.match(/\//g))||[]).length%2!==0}function g(t,e=void 0,a={}){const{errorHandler:r=f=>console.error(f),autoDispose:s=!0}=a,c=u.isRef(t)?t:u.computed(()=>t);let o=()=>{};const n=u.ref(e);return u.watch(c,f=>{o(),c.value?S(c.value)?o=p.onSnapshot(f,d=>{n.value=D(d)||null},r):o=p.onSnapshot(f,d=>{n.value=d.docs.map(D).filter(i.isDef)},r):n.value=e},{immediate:!0}),s===!0?i.tryOnScopeDispose(()=>{o()}):typeof s=="number"&&i.tryOnScopeDispose(()=>{i.useTimeoutFn(()=>{o()},s)}),n}function v(t,e={}){const{errorHandler:a=n=>console.error(n),autoDispose:r=!0}=e,s=u.ref(void 0);function c(n){s.value=n.val()}const o=h.onValue(t,c,a);return r&&i.tryOnScopeDispose(()=>o()),s}l.useAuth=m,l.useFirestore=g,l.useRTDB=v})(this.VueUse=this.VueUse||{},Vue,VueUse,firebase,firebase);
